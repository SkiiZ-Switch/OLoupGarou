package fr.leomelki.loupgarou.classes;

import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.StringJoiner;

import org.bukkit.Bukkit;
import org.bukkit.Material;
import org.bukkit.inventory.ItemStack;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;

import fr.leomelki.loupgarou.events.LGCustomItemChangeEvent;
import fr.leomelki.loupgarou.roles.Role;
import lombok.Getter;
import lombok.RequiredArgsConstructor;

public class LGCustomItems {
	static HashMap<Class<? extends Role>, HashMap<String, Material>> mappings = new HashMap<Class<? extends Role>, HashMap<String,Material>>();
	static {
		JSONParser parser = new JSONParser();
		try {
			JSONObject mappings = (JSONObject)parser.parse("{\"Ange\": {\n\"\": \"CAMPFIRE\",\n\"infecte\": \"BROWN_BED\",\n\"infecte_maire\": \"GOLDEN_PICKAXE\",\n\"infecte_maire_mort\": \"DEAD_BUBBLE_CORAL_FAN\",\n\"infecte_mort\": \"WHITE_TERRACOTTA\",\n\"maire\": \"BLUE_GLAZED_TERRACOTTA\",\n\"maire_mort\": \"GREEN_TERRACOTTA\",\n\"maire_mort_vampire-infecte\": \"LIME_TERRACOTTA\",\n\"maire_vampire-infecte\": \"SLIME_BALL\",\n\"mort\": \"GOLDEN_BOOTS\",\n\"mort_vampire-infecte\": \"JUNGLE_FENCE\",\n\"vampire-infecte\": \"PISTON\"\n},\n\"Assassin\": {\n\"\": \"ENCHANTED_BOOK\",\n\"infecte\": \"WITHER_ROSE\",\n\"infecte_maire\": \"DEAD_TUBE_CORAL_WALL_FAN\",\n\"infecte_maire_mort\": \"INFESTED_MOSSY_STONE_BRICKS\",\n\"infecte_mort\": \"DARK_OAK_SIGN\",\n\"maire\": \"DEAD_TUBE_CORAL_BLOCK\",\n\"maire_mort\": \"BIRCH_FENCE_GATE\",\n\"maire_mort_vampire-infecte\": \"BLACK_SHULKER_BOX\",\n\"maire_vampire-infecte\": \"DEAD_BUSH\",\n\"mort\": \"REDSTONE_TORCH\",\n\"mort_vampire-infecte\": \"ACACIA_SLAB\",\n\"vampire-infecte\": \"PURPUR_SLAB\"\n},\n\"Bouffon\": {\n\"\": \"ACACIA_SAPLING\",\n\"infecte\": \"BIRCH_PLANKS\",\n\"infecte_maire\": \"COBBLESTONE_WALL\",\n\"infecte_maire_mort\": \"BUBBLE_CORAL\",\n\"infecte_mort\": \"COBBLESTONE_SLAB\",\n\"maire\": \"SUGAR_CANE\",\n\"maire_mort\": \"NETHER_BRICK_FENCE\",\n\"maire_mort_vampire-infecte\": \"IRON_ORE\",\n\"maire_vampire-infecte\": \"RED_CONCRETE_POWDER\",\n\"mort\": \"DRIED_KELP_BLOCK\",\n\"mort_vampire-infecte\": \"END_STONE_BRICK_SLAB\",\n\"vampire-infecte\": \"RABBIT_HIDE\"\n},\n\"ChaperonRouge\": {\n\"\": \"YELLOW_CONCRETE_POWDER\",\n\"infecte\": \"LIME_BANNER\",\n\"infecte_maire\": \"GRAY_SHULKER_BOX\",\n\"infecte_maire_mort\": \"WHITE_CONCRETE_POWDER\",\n\"infecte_mort\": \"DEAD_BUBBLE_CORAL\",\n\"maire\": \"PODZOL\",\n\"maire_mort\": \"LIGHT_BLUE_DYE\",\n\"maire_mort_vampire-infecte\": \"LAPIS_LAZULI\",\n\"maire_vampire-infecte\": \"PURPLE_CARPET\",\n\"mort\": \"GRAY_BANNER\",\n\"mort_vampire-infecte\": \"INK_SAC\",\n\"vampire-infecte\": \"WITHER_SKELETON_SKULL\"\n},\n\"Chasseur\": {\n\"\": \"SEAGRASS\",\n\"infecte\": \"PRISMARINE_SLAB\",\n\"infecte_maire\": \"WOODEN_SHOVEL\",\n\"infecte_maire_mort\": \"HOPPER_MINECART\",\n\"infecte_mort\": \"PINK_STAINED_GLASS\",\n\"maire\": \"YELLOW_STAINED_GLASS_PANE\",\n\"maire_mort\": \"SUNFLOWER\",\n\"maire_mort_vampire-infecte\": \"CYAN_CONCRETE\",\n\"maire_vampire-infecte\": \"SPONGE\",\n\"mort\": \"STICK\",\n\"mort_vampire-infecte\": \"YELLOW_BANNER\",\n\"vampire-infecte\": \"GRINDSTONE\"\n},\n\"ChasseurDeVampire\": {\n\"\": \"ANDESITE_SLAB\",\n\"infecte\": \"PAINTING\",\n\"infecte_maire\": \"SPAWNER\",\n\"infecte_maire_mort\": \"BIRCH_WOOD\",\n\"infecte_mort\": \"COMPOSTER\",\n\"maire\": \"FEATHER\",\n\"maire_mort\": \"WHITE_BANNER\",\n\"maire_mort_vampire-infecte\": \"RED_CONCRETE\",\n\"maire_vampire-infecte\": \"DIAMOND_SHOVEL\",\n\"mort\": \"SKELETON_SKULL\",\n\"mort_vampire-infecte\": \"BOOKSHELF\",\n\"vampire-infecte\": \"CHORUS_FLOWER\"\n},\n\"ChienLoup\": {\n\"\": \"RED_SANDSTONE_SLAB\",\n\"infecte\": \"BIRCH_BUTTON\",\n\"infecte_maire\": \"PINK_BANNER\",\n\"infecte_maire_mort\": \"PURPLE_STAINED_GLASS_PANE\",\n\"infecte_mort\": \"MAGENTA_DYE\",\n\"maire\": \"GREEN_BED\",\n\"maire_mort\": \"POLISHED_GRANITE_SLAB\",\n\"maire_mort_vampire-infecte\": \"LEATHER\",\n\"maire_vampire-infecte\": \"STRIPPED_JUNGLE_LOG\",\n\"mort\": \"DIRT\",\n\"mort_vampire-infecte\": \"LIGHT_GRAY_STAINED_GLASS\",\n\"vampire-infecte\": \"LIGHT_BLUE_STAINED_GLASS_PANE\"\n},\n\"ChienLoupLG\": {\n\"\": \"RED_NETHER_BRICK_SLAB\",\n\"infecte\": \"PURPLE_STAINED_GLASS\",\n\"infecte_maire\": \"PURPLE_WOOL\",\n\"infecte_maire_mort\": \"DARK_OAK_DOOR\",\n\"infecte_mort\": \"LIME_CONCRETE\",\n\"maire\": \"ACACIA_SIGN\",\n\"maire_mort\": \"GRAY_CONCRETE_POWDER\",\n\"maire_mort_vampire-infecte\": \"JUNGLE_BOAT\",\n\"maire_vampire-infecte\": \"JUNGLE_DOOR\",\n\"mort\": \"PURPLE_GLAZED_TERRACOTTA\",\n\"mort_vampire-infecte\": \"IRON_DOOR\",\n\"vampire-infecte\": \"SOUL_SAND\"\n},\n\"Corbeau\": {\n\"\": \"GRAY_BED\",\n\"infecte\": \"TRIDENT\",\n\"infecte_maire\": \"OAK_SIGN\",\n\"infecte_maire_mort\": \"REDSTONE_LAMP\",\n\"infecte_mort\": \"PINK_CONCRETE_POWDER\",\n\"maire\": \"YELLOW_GLAZED_TERRACOTTA\",\n\"maire_mort\": \"LECTERN\",\n\"maire_mort_vampire-infecte\": \"BELL\",\n\"maire_vampire-infecte\": \"LIGHT_GRAY_DYE\",\n\"mort\": \"MELON\",\n\"mort_vampire-infecte\": \"BARREL\",\n\"vampire-infecte\": \"STRIPPED_DARK_OAK_LOG\"\n},\n\"Cupidon\": {\n\"\": \"SPRUCE_SLAB\",\n\"infecte\": \"MAGENTA_WOOL\",\n\"infecte_maire\": \"POPPED_CHORUS_FRUIT\",\n\"infecte_maire_mort\": \"COBBLESTONE\",\n\"infecte_mort\": \"BONE_MEAL\",\n\"maire\": \"GOLDEN_HELMET\",\n\"maire_mort\": \"GRASS\",\n\"maire_mort_vampire-infecte\": \"JUNGLE_FENCE_GATE\",\n\"maire_vampire-infecte\": \"DAMAGED_ANVIL\",\n\"mort\": \"STONE_PICKAXE\",\n\"mort_vampire-infecte\": \"LIGHT_GRAY_CARPET\",\n\"vampire-infecte\": \"LAVA_BUCKET\"\n},\n\"Detective\": {\n\"\": \"CROSSBOW\",\n\"infecte\": \"CYAN_GLAZED_TERRACOTTA\",\n\"infecte_maire\": \"DIAMOND_AXE\",\n\"infecte_maire_mort\": \"PINK_SHULKER_BOX\",\n\"infecte_mort\": \"RED_STAINED_GLASS\",\n\"maire\": \"BLACK_TERRACOTTA\",\n\"maire_mort\": \"DIORITE\",\n\"maire_mort_vampire-infecte\": \"DEAD_FIRE_CORAL_BLOCK\",\n\"maire_vampire-infecte\": \"ENDER_EYE\",\n\"mort\": \"YELLOW_CARPET\",\n\"mort_vampire-infecte\": \"ZOMBIE_HEAD\",\n\"vampire-infecte\": \"SPRUCE_LEAVES\"\n},\n\"Dictateur\": {\n\"\": \"STRIPPED_DARK_OAK_WOOD\",\n\"infecte\": \"GREEN_CARPET\",\n\"infecte_maire\": \"OAK_DOOR\",\n\"infecte_maire_mort\": \"JUNGLE_LEAVES\",\n\"infecte_mort\": \"LAPIS_BLOCK\",\n\"maire\": \"COCOA_BEANS\",\n\"maire_mort\": \"GRANITE_SLAB\",\n\"maire_mort_vampire-infecte\": \"RED_MUSHROOM\",\n\"maire_vampire-infecte\": \"ACACIA_BOAT\",\n\"mort\": \"STICKY_PISTON\",\n\"mort_vampire-infecte\": \"GRAY_CARPET\",\n\"vampire-infecte\": \"STONE_BRICK_WALL\"\n},\n\"EnfantSauvage\": {\n\"\": \"LIGHT_GRAY_STAINED_GLASS_PANE\",\n\"infecte\": \"CARTOGRAPHY_TABLE\",\n\"infecte_maire\": \"POLISHED_DIORITE\",\n\"infecte_maire_mort\": \"YELLOW_TERRACOTTA\",\n\"infecte_mort\": \"YELLOW_WOOL\",\n\"maire\": \"TUBE_CORAL\",\n\"maire_mort\": \"LEATHER_HORSE_ARMOR\",\n\"maire_mort_vampire-infecte\": \"BAMBOO\",\n\"maire_vampire-infecte\": \"SPRUCE_DOOR\",\n\"mort\": \"STRING\",\n\"mort_vampire-infecte\": \"DARK_OAK_FENCE\",\n\"vampire-infecte\": \"IRON_HORSE_ARMOR\"\n},\n\"EnfantSauvageLG\": {\n\"\": \"SAND\",\n\"infecte\": \"CYAN_WOOL\",\n\"infecte_maire\": \"WOODEN_AXE\",\n\"infecte_maire_mort\": \"PINK_CARPET\",\n\"infecte_mort\": \"END_CRYSTAL\",\n\"maire\": \"LANTERN\",\n\"maire_mort\": \"HEAVY_WEIGHTED_PRESSURE_PLATE\",\n\"maire_mort_vampire-infecte\": \"BLAZE_POWDER\",\n\"maire_vampire-infecte\": \"BIRCH_PRESSURE_PLATE\",\n\"mort\": \"WHITE_SHULKER_BOX\",\n\"mort_vampire-infecte\": \"BUBBLE_CORAL_FAN\",\n\"vampire-infecte\": \"GRAY_TERRACOTTA\"\n},\n\"Faucheur\": {\n\"\": \"LIME_GLAZED_TERRACOTTA\",\n\"infecte\": \"GRAY_STAINED_GLASS\",\n\"infecte_maire\": \"STRIPPED_OAK_WOOD\",\n\"infecte_maire_mort\": \"DARK_OAK_FENCE_GATE\",\n\"infecte_mort\": \"MAGENTA_CARPET\",\n\"maire\": \"FERN\",\n\"maire_mort\": \"CHORUS_PLANT\",\n\"maire_mort_vampire-infecte\": \"STRIPPED_BIRCH_LOG\",\n\"maire_vampire-infecte\": \"NETHER_BRICK_WALL\",\n\"mort\": \"ORANGE_TULIP\",\n\"mort_vampire-infecte\": \"MAGENTA_GLAZED_TERRACOTTA\",\n\"vampire-infecte\": \"PINK_CONCRETE\"\n},\n\"Garde\": {\n\"\": \"RED_SANDSTONE\",\n\"infecte\": \"LIGHT_GRAY_BED\",\n\"infecte_maire\": \"YELLOW_DYE\",\n\"infecte_maire_mort\": \"VINE\",\n\"infecte_mort\": \"WOODEN_PICKAXE\",\n\"maire\": \"EXPERIENCE_BOTTLE\",\n\"maire_mort\": \"GLASS_PANE\",\n\"maire_mort_vampire-infecte\": \"TNT_MINECART\",\n\"maire_vampire-infecte\": \"LIME_DYE\",\n\"mort\": \"HORN_CORAL_BLOCK\",\n\"mort_vampire-infecte\": \"DEAD_HORN_CORAL_BLOCK\",\n\"vampire-infecte\": \"FARMLAND\"\n},\n\"GrandMechantLoup\": {\n\"\": \"OBSERVER\",\n\"infecte\": \"DRAGON_BREATH\",\n\"infecte_maire\": \"MAGENTA_TERRACOTTA\",\n\"infecte_maire_mort\": \"ORANGE_WOOL\",\n\"infecte_mort\": \"SEA_LANTERN\",\n\"maire\": \"DROPPER\",\n\"maire_mort\": \"PRISMARINE_SHARD\",\n\"maire_mort_vampire-infecte\": \"FIRE_CORAL_FAN\",\n\"maire_vampire-infecte\": \"COAL_ORE\",\n\"mort\": \"PINK_STAINED_GLASS_PANE\",\n\"mort_vampire-infecte\": \"SMOKER\",\n\"vampire-infecte\": \"MOSSY_STONE_BRICK_WALL\"\n},\n\"LoupGarou\": {\n\"\": \"DARK_OAK_TRAPDOOR\",\n\"infecte\": \"CORNFLOWER\",\n\"infecte_maire\": \"RED_BANNER\",\n\"infecte_maire_mort\": \"MAGMA_BLOCK\",\n\"infecte_mort\": \"GREEN_WOOL\",\n\"maire\": \"PRISMARINE_WALL\",\n\"maire_mort\": \"BLACK_STAINED_GLASS\",\n\"maire_mort_vampire-infecte\": \"JUNGLE_TRAPDOOR\",\n\"maire_vampire-infecte\": \"STONE_BRICK_SLAB\",\n\"mort\": \"DEAD_BRAIN_CORAL\",\n\"mort_vampire-infecte\": \"COMPARATOR\",\n\"vampire-infecte\": \"ACACIA_DOOR\"\n},\n\"LoupGarouBlanc\": {\n\"\": \"ACACIA_FENCE_GATE\",\n\"infecte\": \"TORCH\",\n\"infecte_maire\": \"SPRUCE_LOG\",\n\"infecte_maire_mort\": \"FLOWER_BANNER_PATTERN\",\n\"infecte_mort\": \"LIME_STAINED_GLASS_PANE\",\n\"maire\": \"DEAD_BUBBLE_CORAL_BLOCK\",\n\"maire_mort\": \"HORN_CORAL_FAN\",\n\"maire_mort_vampire-infecte\": \"GRASS_PATH\",\n\"maire_vampire-infecte\": \"MAGENTA_BANNER\",\n\"mort\": \"MUSHROOM_STEM\",\n\"mort_vampire-infecte\": \"ORANGE_CARPET\",\n\"vampire-infecte\": \"GREEN_CONCRETE_POWDER\"\n},\n\"LoupGarouNoir\": {\n\"\": \"YELLOW_BED\",\n\"infecte\": \"LIGHT_BLUE_BANNER\",\n\"infecte_maire\": \"SPRUCE_PLANKS\",\n\"infecte_maire_mort\": \"BEACON\",\n\"infecte_mort\": \"WHITE_STAINED_GLASS_PANE\",\n\"maire\": \"STRIPPED_OAK_LOG\",\n\"maire_mort\": \"MOSSY_COBBLESTONE_SLAB\",\n\"maire_mort_vampire-infecte\": \"CLAY\",\n\"maire_vampire-infecte\": \"BEETROOT_SEEDS\",\n\"mort\": \"DEAD_FIRE_CORAL_WALL_FAN\",\n\"mort_vampire-infecte\": \"BIRCH_SIGN\",\n\"vampire-infecte\": \"ORANGE_SHULKER_BOX\"\n},\n\"Medium\": {\n\"\": \"GREEN_STAINED_GLASS\",\n\"infecte\": \"ORANGE_CONCRETE\",\n\"infecte_maire\": \"BROWN_STAINED_GLASS_PANE\",\n\"infecte_maire_mort\": \"SALMON_BUCKET\",\n\"infecte_mort\": \"BROWN_MUSHROOM_BLOCK\",\n\"maire\": \"CHARCOAL\",\n\"maire_mort\": \"BRICK_SLAB\",\n\"maire_mort_vampire-infecte\": \"NETHER_BRICKS\",\n\"maire_vampire-infecte\": \"DARK_OAK_SAPLING\",\n\"mort\": \"ENCHANTING_TABLE\",\n\"mort_vampire-infecte\": \"CYAN_CARPET\",\n\"vampire-infecte\": \"COAL\"\n},\n\"MontreurDOurs\": {\n\"\": \"BLUE_DYE\",\n\"infecte\": \"BLUE_STAINED_GLASS\",\n\"infecte_maire\": \"DARK_OAK_BUTTON\",\n\"infecte_maire_mort\": \"BRAIN_CORAL_FAN\",\n\"infecte_mort\": \"LIGHT_BLUE_TERRACOTTA\",\n\"maire\": \"LEAD\",\n\"maire_mort\": \"CHISELED_RED_SANDSTONE\",\n\"maire_mort_vampire-infecte\": \"CHISELED_SANDSTONE\",\n\"maire_vampire-infecte\": \"PETRIFIED_OAK_SLAB\",\n\"mort\": \"RABBIT_FOOT\",\n\"mort_vampire-infecte\": \"SKULL_BANNER_PATTERN\",\n\"vampire-infecte\": \"JUNGLE_PLANKS\"\n},\n\"PetiteFille\": {\n\"\": \"WET_SPONGE\",\n\"infecte\": \"ORANGE_BED\",\n\"infecte_maire\": \"SPRUCE_TRAPDOOR\",\n\"infecte_maire_mort\": \"DARK_OAK_PRESSURE_PLATE\",\n\"infecte_mort\": \"ACACIA_WOOD\",\n\"maire\": \"POPPY\",\n\"maire_mort\": \"OAK_PLANKS\",\n\"maire_mort_vampire-infecte\": \"LIGHT_BLUE_CONCRETE\",\n\"maire_vampire-infecte\": \"SPRUCE_WOOD\",\n\"mort\": \"STONE_SLAB\",\n\"mort_vampire-infecte\": \"GREEN_SHULKER_BOX\",\"vampire-infecte\": \"BLAST_FURNACE\"},\"Pirate\": {\"\": \"JUNGLE_SAPLING\",\"infecte\": \"BEDROCK\",\"infecte_maire\": \"POLISHED_DIORITE_SLAB\",\"infecte_maire_mort\": \"GLASS\",\"infecte_mort\": \"YELLOW_CONCRETE\",\"maire\": \"NETHER_BRICK_SLAB\",\"maire_mort\": \"ANDESITE\",\"maire_mort_vampire-infecte\": \"LIME_BED\",\"maire_vampire-infecte\": \"STRIPPED_ACACIA_LOG\",\"mort\": \"BLUE_CONCRETE\",\"mort_vampire-infecte\": \"ORANGE_TERRACOTTA\",\"vampire-infecte\": \"RED_TULIP\"},\"Pretre\": {\"\": \"DARK_OAK_SLAB\",\"infecte\": \"CONDUIT\",\"infecte_maire\": \"OXEYE_DAISY\",\"infecte_maire_mort\": \"LIGHT_BLUE_CARPET\",\"infecte_mort\": \"DARK_OAK_LEAVES\",\"maire\": \"HOPPER\",\"maire_mort\": \"SLIME_BLOCK\",\"maire_mort_vampire-infecte\": \"CYAN_STAINED_GLASS_PANE\",\"maire_vampire-infecte\": \"SANDSTONE_SLAB\",\"mort\": \"MOSSY_COBBLESTONE\",\"mort_vampire-infecte\": \"RED_GLAZED_TERRACOTTA\",\"vampire-infecte\": \"SPRUCE_SIGN\"},\"Pronostiqueur\": {\"\": \"LIME_CARPET\",\"infecte\": \"BLUE_CARPET\",\"infecte_maire\": \"BROWN_CARPET\",\"infecte_maire_mort\": \"RED_CARPET\",\"infecte_mort\": \"BLACK_CARPET\",\"maire\": \"WHITE_CARPET\",\"maire_mort\": \"STONE_PRESSURE_PLATE\",\"maire_mort_vampire-infecte\": \"OAK_PRESSURE_PLATE\",\"maire_vampire-infecte\": \"SPRUCE_PRESSURE_PLATE\",\"mort\": \"JUNGLE_PRESSURE_PLATE\",\"mort_vampire-infecte\": \"ACACIA_PRESSURE_PLATE\",\"vampire-infecte\": \"SNOW\"},\"Pyromane\": {\"\": \"RED_WOOL\",\"infecte\": \"INFESTED_COBBLESTONE\",\"infecte_maire\": \"BIRCH_FENCE\",\"infecte_maire_mort\": \"JUNGLE_SLAB\",\"infecte_mort\": \"CYAN_DYE\",\"maire\": \"DEAD_HORN_CORAL_WALL_FAN\",\"maire_mort\": \"OAK_TRAPDOOR\",\"maire_mort_vampire-infecte\": \"NETHER_STAR\",\"maire_vampire-infecte\": \"POLISHED_GRANITE\",\"mort\": \"GLASS_BOTTLE\",\"mort_vampire-infecte\": \"COBWEB\",\"vampire-infecte\": \"RED_BED\"},\"Sorciere\": {\"\": \"MAP\",\"infecte\": \"CYAN_BED\",\"infecte_maire\": \"IRON_HELMET\",\"infecte_maire_mort\": \"DIAMOND_HOE\",\"infecte_mort\": \"MOJANG_BANNER_PATTERN\",\"maire\": \"PURPLE_TERRACOTTA\",\"maire_mort\": \"SCUTE\",\"maire_mort_vampire-infecte\": \"BIRCH_SLAB\",\"maire_vampire-infecte\": \"BLACK_BED\",\"mort\": \"PUFFERFISH_BUCKET\",\"mort_vampire-infecte\": \"STRIPPED_SPRUCE_LOG\",\"vampire-infecte\": \"CYAN_TERRACOTTA\"},\"Survivant\": {\"\": \"BROWN_DYE\",\"infecte\": \"END_STONE_BRICKS\",\"infecte_maire\": \"MILK_BUCKET\",\"infecte_maire_mort\": \"LILY_PAD\",\"infecte_mort\": \"CYAN_SHULKER_BOX\",\"maire\": \"CAKE\",\"maire_mort\": \"RED_MUSHROOM_BLOCK\",\"maire_mort_vampire-infecte\": \"MINECART\",\"maire_vampire-infecte\": \"BLACK_CONCRETE\",\"mort\": \"GLOBE_BANNER_PATTERN\",\"mort_vampire-infecte\": \"FIRE_CORAL_WALL_FAN\",\"vampire-infecte\": \"JUNGLE_LOG\"},\"Vampire\": {\"\": \"IRON_SHOVEL\",\"infecte\": \"SANDSTONE\",\"infecte_maire\": \"BRICK_WALL\",\"infecte_maire_mort\": \"DANDELION\",\"infecte_mort\": \"PURPLE_SHULKER_BOX\",\"maire\": \"MOSSY_STONE_BRICK_SLAB\",\"maire_mort\": \"SNOWBALL\",\"maire_mort_vampire-infecte\": \"LEATHER_BOOTS\",\"maire_vampire-infecte\": \"ITEM_FRAME\",\"mort\": \"REPEATER\",\"mort_vampire-infecte\": \"BLUE_CONCRETE_POWDER\",\"vampire-infecte\": \"RED_STAINED_GLASS_PANE\"},\"Villageois\": {\"\": \"SPRUCE_FENCE\",\"infecte\": \"DEAD_HORN_CORAL_FAN\",\"infecte_maire\": \"PURPLE_CONCRETE\",\"infecte_maire_mort\": \"TERRACOTTA\",\"infecte_mort\": \"IRON_INGOT\",\"maire\": \"END_ROD\",\"maire_mort\": \"BLUE_ICE\",\"maire_mort_vampire-infecte\": \"ACACIA_BUTTON\",\"maire_vampire-infecte\": \"COMMAND_BLOCK\",\"mort\": \"MAGENTA_STAINED_GLASS\",\"mort_vampire-infecte\": \"ENDER_PEARL\",\"vampire-infecte\": \"DARK_OAK_PLANKS\"},\"Voyante\": {\"\": \"DRAGON_HEAD\",\"infecte\": \"FIRE_CORAL_BLOCK\",\"infecte_maire\": \"BRAIN_CORAL_WALL_FAN\",\"infecte_maire_mort\": \"LIGHT_BLUE_SHULKER_BOX\",\"infecte_mort\": \"FLINT\",\"maire\": \"DARK_OAK_BOAT\",\"maire_mort\": \"NETHERRACK\",\"maire_mort_vampire-infecte\": \"TURTLE_HELMET\",\"maire_vampire-infecte\": \"GRAY_GLAZED_TERRACOTTA\",\"mort\": \"BLACK_STAINED_GLASS_PANE\",\"mort_vampire-infecte\": \"WHEAT_SEEDS\",\"vampire-infecte\": \"LIGHT_BLUE_WOOL\"}}");
			for(Object key : mappings.keySet()) {
				HashMap<String, Material> map = new HashMap<String, Material>();
				JSONObject array = (JSONObject) mappings.get(key);
				for(Object key2 : array.keySet())
					map.put((String)key2, Material.valueOf((String)array.get(key2)));
				try {
					LGCustomItems.mappings.put((Class<? extends Role>)Class.forName("fr.leomelki.loupgarou.roles.R"+key), map);
				} catch (ClassNotFoundException e) {
					e.printStackTrace();
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public static Material getItem(Role role) {
		return mappings.get(role.getClass()).get("");
	}
	public static Material getItem(LGPlayer player, ArrayList<String> constraints) {
		Bukkit.getPluginManager().callEvent(new LGCustomItemChangeEvent(player.getGame(), player, constraints));
		
		Collections.sort(constraints);
		HashMap<String, Material> mapps = mappings.get(player.getRole().getClass());
		if(mapps == null)
			return Material.AIR;//Lors du développement de rôles.
		StringJoiner sj = new StringJoiner("_");
		for(String s : constraints)
			sj.add(s);
		return mapps.get(sj.toString());
	}
	public static Material getItem(LGPlayer player) {
		return getItem(player, new ArrayList<String>());
	}
	
	public static void updateItem(LGPlayer lgp) {
		lgp.getPlayer().getInventory().setItemInOffHand(new ItemStack(getItem(lgp)));
		lgp.getPlayer().updateInventory();
	}

	public static void updateItem(LGPlayer lgp, ArrayList<String> constraints) {
		lgp.getPlayer().getInventory().setItemInOffHand(new ItemStack(getItem(lgp, constraints)));
		lgp.getPlayer().updateInventory();
	}
	
	@RequiredArgsConstructor
	public static enum LGCustomItemsConstraints{
		INFECTED("infecte"),
		MAYOR("maire"),
		VAMPIRE_INFECTE("vampire-infecte"),
		DEAD("mort");
		@Getter private final String name;
	}
	
}
